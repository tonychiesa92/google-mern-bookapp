{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Tony\\\\gt\\\\sandbox\\\\google-mern-bookapp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Tony\\\\gt\\\\sandbox\\\\google-mern-bookapp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Tony\\\\gt\\\\sandbox\\\\google-mern-bookapp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Tony\\\\gt\\\\sandbox\\\\google-mern-bookapp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Tony\\\\gt\\\\sandbox\\\\google-mern-bookapp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import API from\"../utils/API\";import Jumbotron from\"../components/Jumbotron\";import{Container,Row,Col}from\"../components/Grid\";import SearchForm from\"../components/SearchForm\";import SearchResult from\"../components/SearchResult\";var SearchBooks=/*#__PURE__*/function(_Component){_inherits(SearchBooks,_Component);function SearchBooks(){var _getPrototypeOf2;var _this;_classCallCheck(this,SearchBooks);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SearchBooks)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={search:\"\",books:[],error:\"\",message:\"\"};_this.handleInputChange=function(event){_this.setState({search:event.target.value});};_this.handleFormSubmit=function(event){event.preventDefault();// once it clicks it connects to the google book api with the search value\nAPI.getGoogleSearchBooks(_this.state.search).then(function(res){if(res.data.items===\"error\"){throw new Error(res.data.items);}else{// store response in a array\nvar results=res.data.items;//map through the array \nresults=results.map(function(result){//store each book information in a new object \nresult={key:result.id,id:result.id,title:result.volumeInfo.title,author:result.volumeInfo.authors,description:result.volumeInfo.description,image:result.volumeInfo.imageLinks.thumbnail,link:result.volumeInfo.infoLink};return result;});// reset the sate of the empty books array to the new arrays of objects with properties geting back from the response\n_this.setState({books:results,error:\"\"});}}).catch(function(err){return _this.setState({error:err.items});});};_this.handleSavedButton=function(event){// console.log(event)\nevent.preventDefault();console.log(_this.state.books);var savedBooks=_this.state.books.filter(function(book){return book.id===event.target.id;});savedBooks=savedBooks[0];API.saveBook(savedBooks).then(_this.setState({message:alert(\"Your book is saved\")})).catch(function(err){return console.log(err);});};return _this;}_createClass(SearchBooks,[{key:\"render\",value:function render(){return React.createElement(Container,{fluid:true},React.createElement(Jumbotron,null,React.createElement(\"h1\",{className:\"text-white display-4 font-weight-bold\"},\"Find Your Favorite Books\")),React.createElement(Container,null,React.createElement(Row,null,React.createElement(Col,{size:\"12\"},React.createElement(SearchForm,{handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange})))),React.createElement(\"br\",null),React.createElement(Container,null,React.createElement(SearchResult,{books:this.state.books,handleSavedButton:this.handleSavedButton})));}}]);return SearchBooks;}(Component);export default SearchBooks;","map":{"version":3,"sources":["C:/Users/Tony/gt/sandbox/google-mern-bookapp/client/src/pages/SearchBooks.js"],"names":["React","Component","API","Jumbotron","Container","Row","Col","SearchForm","SearchResult","SearchBooks","state","search","books","error","message","handleInputChange","event","setState","target","value","handleFormSubmit","preventDefault","getGoogleSearchBooks","then","res","data","items","Error","results","map","result","key","id","title","volumeInfo","author","authors","description","image","imageLinks","thumbnail","link","infoLink","catch","err","handleSavedButton","console","log","savedBooks","filter","book","saveBook","alert"],"mappings":"u5BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,GAAzB,KAAoC,oBAApC,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,C,GAGMC,CAAAA,W,mZAEFC,K,CAAQ,CACJC,MAAM,CAAE,EADJ,CAEJC,KAAK,CAAE,EAFH,CAGJC,KAAK,CAAE,EAHH,CAIJC,OAAO,CAAE,EAJL,C,OAQRC,iB,CAAoB,SAAAC,KAAK,CAAI,CACzB,MAAKC,QAAL,CAAc,CAAEN,MAAM,CAAEK,KAAK,CAACE,MAAN,CAAaC,KAAvB,CAAd,EACH,C,OAGDC,gB,CAAmB,SAAAJ,KAAK,CAAI,CACxBA,KAAK,CAACK,cAAN,GACA;AACAnB,GAAG,CAACoB,oBAAJ,CAAyB,MAAKZ,KAAL,CAAWC,MAApC,EACKY,IADL,CACU,SAAAC,GAAG,CAAI,CACT,GAAIA,GAAG,CAACC,IAAJ,CAASC,KAAT,GAAmB,OAAvB,CAAgC,CAC5B,KAAM,IAAIC,CAAAA,KAAJ,CAAUH,GAAG,CAACC,IAAJ,CAASC,KAAnB,CAAN,CACH,CAFD,IAGK,CACD;AACA,GAAIE,CAAAA,OAAO,CAAGJ,GAAG,CAACC,IAAJ,CAASC,KAAvB,CACA;AACAE,OAAO,CAAGA,OAAO,CAACC,GAAR,CAAY,SAAAC,MAAM,CAAI,CAC5B;AACAA,MAAM,CAAG,CACLC,GAAG,CAAED,MAAM,CAACE,EADP,CAELA,EAAE,CAAEF,MAAM,CAACE,EAFN,CAGLC,KAAK,CAAEH,MAAM,CAACI,UAAP,CAAkBD,KAHpB,CAILE,MAAM,CAAEL,MAAM,CAACI,UAAP,CAAkBE,OAJrB,CAKLC,WAAW,CAAEP,MAAM,CAACI,UAAP,CAAkBG,WAL1B,CAMLC,KAAK,CAAER,MAAM,CAACI,UAAP,CAAkBK,UAAlB,CAA6BC,SAN/B,CAOLC,IAAI,CAAEX,MAAM,CAACI,UAAP,CAAkBQ,QAPnB,CAAT,CASA,MAAOZ,CAAAA,MAAP,CACH,CAZS,CAAV,CAaA;AACA,MAAKb,QAAL,CAAc,CAAEL,KAAK,CAAEgB,OAAT,CAAkBf,KAAK,CAAE,EAAzB,CAAd,EACH,CACJ,CAzBL,EA0BK8B,KA1BL,CA0BW,SAAAC,GAAG,QAAI,OAAK3B,QAAL,CAAc,CAAEJ,KAAK,CAAE+B,GAAG,CAAClB,KAAb,CAAd,CAAJ,EA1Bd,EA2BH,C,OAEDmB,iB,CAAoB,SAAA7B,KAAK,CAAI,CACzB;AACAA,KAAK,CAACK,cAAN,GACAyB,OAAO,CAACC,GAAR,CAAY,MAAKrC,KAAL,CAAWE,KAAvB,EACA,GAAIoC,CAAAA,UAAU,CAAG,MAAKtC,KAAL,CAAWE,KAAX,CAAiBqC,MAAjB,CAAwB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAAClB,EAAL,GAAYhB,KAAK,CAACE,MAAN,CAAac,EAA7B,EAA5B,CAAjB,CACAgB,UAAU,CAAGA,UAAU,CAAC,CAAD,CAAvB,CACA9C,GAAG,CAACiD,QAAJ,CAAaH,UAAb,EACKzB,IADL,CACU,MAAKN,QAAL,CAAc,CAAEH,OAAO,CAAEsC,KAAK,CAAC,oBAAD,CAAhB,CAAd,CADV,EAEKT,KAFL,CAEW,SAAAC,GAAG,QAAIE,CAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,CAAJ,EAFd,EAGH,C,8EACQ,CACL,MACI,qBAAC,SAAD,EAAW,KAAK,KAAhB,EACI,oBAAC,SAAD,MACI,0BAAI,SAAS,CAAC,uCAAd,6BADJ,CADJ,CAII,oBAAC,SAAD,MACI,oBAAC,GAAD,MACI,oBAAC,GAAD,EAAK,IAAI,CAAC,IAAV,EACI,oBAAC,UAAD,EACI,gBAAgB,CAAE,KAAKxB,gBAD3B,CAEI,iBAAiB,CAAE,KAAKL,iBAF5B,EADJ,CADJ,CADJ,CAJJ,CAcI,8BAdJ,CAeI,oBAAC,SAAD,MACI,oBAAC,YAAD,EAAc,KAAK,CAAE,KAAKL,KAAL,CAAWE,KAAhC,CAAuC,iBAAiB,CAAE,KAAKiC,iBAA/D,EADJ,CAfJ,CADJ,CAqBH,C,yBA/EqB5C,S,EAoF1B,cAAeQ,CAAAA,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport { Container, Row, Col } from \"../components/Grid\";\nimport SearchForm from \"../components/SearchForm\";\nimport SearchResult from \"../components/SearchResult\";\n\n\nclass SearchBooks extends Component {\n    //create state\n    state = {\n        search: \"\",\n        books: [],\n        error: \"\",\n        message: \"\"\n    };\n\n    //function to take value of what enter in the search bar\n    handleInputChange = event => {\n        this.setState({ search: event.target.value })\n    }\n\n    //function to control the submit button of the search form \n    handleFormSubmit = event => {\n        event.preventDefault();\n        // once it clicks it connects to the google book api with the search value\n        API.getGoogleSearchBooks(this.state.search)\n            .then(res => {\n                if (res.data.items === \"error\") {\n                    throw new Error(res.data.items);\n                }\n                else {\n                    // store response in a array\n                    let results = res.data.items\n                    //map through the array \n                    results = results.map(result => {\n                        //store each book information in a new object \n                        result = {\n                            key: result.id,\n                            id: result.id,\n                            title: result.volumeInfo.title,\n                            author: result.volumeInfo.authors,\n                            description: result.volumeInfo.description,\n                            image: result.volumeInfo.imageLinks.thumbnail,\n                            link: result.volumeInfo.infoLink\n                        }\n                        return result;\n                    })\n                    // reset the sate of the empty books array to the new arrays of objects with properties geting back from the response\n                    this.setState({ books: results, error: \"\" })\n                }\n            })\n            .catch(err => this.setState({ error: err.items }));\n    }\n\n    handleSavedButton = event => {\n        // console.log(event)\n        event.preventDefault();\n        console.log(this.state.books)\n        let savedBooks = this.state.books.filter(book => book.id === event.target.id)\n        savedBooks = savedBooks[0];\n        API.saveBook(savedBooks)\n            .then(this.setState({ message: alert(\"Your book is saved\") }))\n            .catch(err => console.log(err))\n    }\n    render() {\n        return (\n            <Container fluid>\n                <Jumbotron>\n                    <h1 className=\"text-white display-4 font-weight-bold\">Find Your Favorite Books</h1>\n                </Jumbotron>\n                <Container>\n                    <Row>\n                        <Col size=\"12\">\n                            <SearchForm\n                                handleFormSubmit={this.handleFormSubmit}\n                                handleInputChange={this.handleInputChange}\n                            />\n                        </Col>\n                    </Row>\n                </Container>\n                <br></br>\n                <Container>\n                    <SearchResult books={this.state.books} handleSavedButton={this.handleSavedButton} />\n                </Container>\n            </Container>\n        )\n    }\n\n\n}\n\nexport default SearchBooks"]},"metadata":{},"sourceType":"module"}